"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[272],{16541:function(Oe,T,a){a.r(T);var H=a(11281),d=a.n(H),X=a(97983),o=a.n(X),w=a(40794),j=a.n(w),k=a(12741),D=a.n(k),x=a(34041),q=a(35751),c=a(12461),M=a(26713),g=a(59652),v=a(71577),ee=a(86472),ae=a(24093),O=a(2587),ne=a(85402),P=a(95239),re=a(30124),f=a(67294),se=a(36275),C=a(69412),Z=a(61936),le=a(87547),te=a(79090),ue=a(51042),e=a(85893),y=x.Z.Option,W=q.Z.Paragraph,ie=function(i,_){var t=new FileReader;t.addEventListener("load",function(){return _(t.result)}),t.readAsDataURL(i)},_e=function(i){var _=i.type==="image/jpeg"||i.type==="image/png";_||c.ZP.error("You can only upload JPG/PNG file!");var t=i.size/1024/1024<3;return t||c.ZP.error("Image must smaller than 2MB!"),_&&t},de=function(){var i,_,t,A,U,B,F,I,K,L,oe=(0,f.useState)(!1),S=D()(oe,2),$=S[0],p=S[1],ce=(0,f.useState)(),V=D()(ce,2),m=V[0],N=V[1],ve=(0,f.useState)(!1),z=D()(ve,2),me=z[0],R=z[1],G=(0,se.useModel)("@@initialState"),Ee=G.initialState,Ce=G.setInitialState,n=Ee.loginUser,he=(0,f.useState)((i=n==null?void 0:n.userAvatar)!==null&&i!==void 0?i:null),J=D()(he,2),Q=J[0],De=J[1],Pe=function(){var u=j()(o()().mark(function s(){var l;return o()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return p(!0),r.prev=1,r.next=4,(0,C.ME)();case 4:l=r.sent,N(l.data),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(1),c.ZP.error("\u83B7\u53D6\u6570\u636E\u5931\u8D25\uFF0C"+r.t0.message);case 11:return p(!1),r.abrupt("return");case 13:case"end":return r.stop()}},s,null,[[1,8]])}));return function(){return u.apply(this,arguments)}}(),fe=function(s){if(s.file.status==="uploading"){p(!0);return}s.file.status==="done"&&ie(s.file.originFileObj,function(l){p(!1),De(l)})},pe=function(){var u=j()(o()().mark(function s(){var l;return o()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,(0,C.$Q)();case 3:l=r.sent,N(l.data),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),c.ZP.error("\u83B7\u53D6\u6570\u636E\u5931\u8D25\uFF0C"+r.t0.message);case 10:case"end":return r.stop()}},s,null,[[0,7]])}));return function(){return u.apply(this,arguments)}}(),je=function(){window.location.href=Z.h.baseURL+"/api/interfaceInfo/sdk"},Me=function(){Pe()},Y={labelCol:{span:6},wrapperCol:{span:14}},ge=function(){var u=j()(o()().mark(function s(l){var E;return o()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return console.log("Received values of form: ",l),h.next=3,(0,C.Zn)(d()(d()({},l),{},{id:n.id}));case 3:E=h.sent,E.code===0&&E.data===!0?c.ZP.success("\u4FEE\u6539\u6210\u529F"):c.ZP.error("\u4FEE\u6539\u5931\u8D25\uFF0C\u8BF7\u5237\u65B0\u91CD\u8BD5\uFF01"),R(!1),location.reload();case 7:case"end":return h.stop()}},s)}));return function(l){return u.apply(this,arguments)}}();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(M.Z,{direction:"vertical",size:"middle",style:{display:"flex"},children:[(0,e.jsx)(g.Z,{title:"\u4E2A\u4EBA\u4FE1\u606F",actions:[(0,e.jsxs)("b",{children:["\u6027\u522B\uFF1A",(n==null?void 0:n.gender)==((_="0")!==null&&_!==void 0?_:null)?"\u7537":"\u5973"]},"gender"),(0,e.jsxs)("b",{children:["\u521B\u5EFA\u65F6\u95F4\uFF1A",(t=n==null?void 0:n.createTime)!==null&&t!==void 0?t:null]},"time"),(0,e.jsxs)("b",{children:["\u8EAB\u4EFD\uFF1A",(A=n==null?void 0:n.userRole)!==null&&A!==void 0&&A?"\u666E\u901A\u7528\u6237":"\u7BA1\u7406\u5458"]},"role")],extra:(0,e.jsx)(v.Z,{type:"link",onClick:function(){return R(!0)},children:"\u7F16\u8F91"}),children:(0,e.jsx)(g.Z.Meta,{avatar:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(ee.Z,{name:"file",className:"avatar-uploader",showUploadList:!1,maxCount:1,withCredentials:!0,action:Z.h.baseURL+"/api/user/update/avatar",beforeUpload:_e,onChange:fe,children:Q?(0,e.jsx)(ae.C,{size:{xs:30,sm:40,md:48,lg:70,xl:88,xxl:100},src:Q,icon:(0,e.jsx)(le.Z,{})}):(0,e.jsxs)("div",{children:[$?(0,e.jsx)(te.Z,{}):(0,e.jsx)(ue.Z,{}),(0,e.jsx)("div",{style:{marginTop:8},children:"\u4E0A\u4F20\u5934\u50CF"})]})})}),title:(U=n==null?void 0:n.userName)!==null&&U!==void 0?U:null,description:(B="\u8D26\u53F7\uFF1A"+(n==null?void 0:n.userAccount))!==null&&B!==void 0?B:null})}),(0,e.jsx)(g.Z,{title:"\u5F00\u53D1\u8005\u5BC6\u94A5\uFF08\u8C03\u7528\u63A5\u53E3\u7684\u51ED\u8BC1\uFF09",extra:(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(M.Z,{children:[(0,e.jsx)(v.Z,{onClick:je,children:"\u4E0B\u8F7DSDK"}),(0,e.jsx)(v.Z,{onClick:Me,children:"\u663E\u793A\u5BC6\u94A5"}),(0,e.jsx)(v.Z,{onClick:pe,children:"\u91CD\u65B0\u751F\u6210"})]})}),children:(0,e.jsxs)(O.Z,{column:1,bordered:!0,size:"small",layout:"vertical",children:[(0,e.jsx)(O.Z.Item,{label:"accessKey",children:(0,e.jsx)(W,{copyable:{tooltips:!1},children:(F=m==null?void 0:m.accessKey)!==null&&F!==void 0?F:"******************"})}),(0,e.jsx)(O.Z.Item,{label:"secretKey",children:(0,e.jsx)(W,{copyable:{tooltips:!1},children:(I=m==null?void 0:m.secretKey)!==null&&I!==void 0?I:"******************"})})]})})]}),(0,e.jsx)(ne.Z,{title:"\u7F16\u8F91\u4FE1\u606F",open:me,confirmLoading:$,footer:null,onCancel:function(){return R(!1)},children:(0,e.jsxs)(P.Z,d()(d()({name:"validate_other"},Y),{},{onFinish:ge,initialValues:{"input-number":3,"checkbox-group":["A","B"],rate:3.5},style:{maxWidth:600},children:[(0,e.jsx)(P.Z.Item,d()(d()({},Y),{},{name:"userName",label:"\u6635\u79F0",initialValue:(K=n==null?void 0:n.userName)!==null&&K!==void 0?K:null,rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u4F60\u7684\u6635\u79F0"}],children:(0,e.jsx)(re.Z,{placeholder:"\u8BF7\u8F93\u5165\u4F60\u7684\u6635\u79F0"})})),(0,e.jsx)(P.Z.Item,{name:"gender",label:"\u6027\u522B",hasFeedback:!0,initialValue:(L=n==null?void 0:n.gender)!==null&&L!==void 0?L:null,rules:[{required:!0,message:"\u8BF7\u9009\u62E9\u4F60\u7684\u6027\u522B"}],children:(0,e.jsxs)(x.Z,{placeholder:"\u8BF7\u9009\u62E9\u4F60\u7684\u6027\u522B",children:[(0,e.jsx)(y,{value:0,children:"\u7537"}),(0,e.jsx)(y,{value:1,children:"\u5973"})]})}),(0,e.jsx)(P.Z.Item,{wrapperCol:{span:12,offset:6},children:(0,e.jsxs)(M.Z,{children:[(0,e.jsx)(v.Z,{type:"primary",htmlType:"submit",children:"\u4FEE\u6539"}),(0,e.jsx)(v.Z,{htmlType:"reset",children:"\u91CD\u7F6E"})]})})]}))})]})};T.default=de}}]);
